<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>修改学生信息</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <script src="/js/jquery-1.10.2.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="panel panel-info">
        <div class="panel-heading">
            修改学生信息
        </div>
        <div class="panel-body">
            <form class="form-horizontal" action="/stu/update" method="post" enctype="multipart/form-data">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-7">
                            <div class="form-group">
                                <label for="inputEducation" class="col-sm-2 control-label">班级</label>
                                <div class="col-sm-10">
                                    <select class="form-control" name="clsid">
                                        <option th:each="Class:${cls}" th:text="${Class.clsName}" th:value="${Class.clsid}" th:selected="${Class.clsid==stu.clsid}" >软硕2001班</option>
                                    </select>
                                </div>
                            </div>

                            <input type="hidden" th:value="${stu.stuid}" name="stuid">

                            <div class="form-group">
                              <label for="inputName" class="col-sm-2 control-label">姓名</label>
                              <div class="col-sm-10">
                                <input type="name" name="stu_name" th:value="${stu.stu_name}" class="form-control" id="inputName" placeholder="姓名">
                              </div>
                            </div>
                            <div class="form-group">
                              <label for="inputPassword" class="col-sm-2 control-label">密码</label>
                              <div class="col-sm-10">
                                <input type="password" th:value="${stu.password}" name="password" class="form-control" id="inputPassword" placeholder="密码">
                              </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-2 control-label">性别</label>
                                <div class="col-sm-10">
                                    <label class="radio-inline">
                                        <input type="radio" name="stu_sex" id="inputSex1" value="true" th:checked="${stu.stu_sex}==true"> 男
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" name="stu_sex" id="inputSex2" value="false" th:checked="${stu.stu_sex}==false"> 女
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="inputBirthdate" class="col-sm-2 control-label">出生日期</label>
                                <div class="col-sm-10">
                                    <input type="date" th:value="${stu.stu_birthday}" name="stu_birthday" class="form-control" id="inputBirthdate" placeholder="年/月/日">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-2 control-label">兴趣爱好</label>
                                <div class="col-sm-10">
                                    <label class="checkbox-inline">
                                      <input type="checkbox" th:checked="${stu.stu_interest!=null&&stu.stu_interest.contains('电影')}" name="stu_interest" id="inputInterest1" value="电影"> 电影
                                    </label>
                                    <label class="checkbox-inline">
                                      <input type="checkbox" th:checked="${stu.stu_interest!=null&&stu.stu_interest.contains('篮球')}" name="stu_interest" id="inputInterest2" value="篮球"> 篮球
                                    </label>
                                    <label class="checkbox-inline">
                                      <input type="checkbox" th:checked="${stu.stu_interest!=null&&stu.stu_interest.contains('看书')}" name="stu_interest" id="inputInterest3" value="看书"> 看书
                                    </label>
                                    <label class="checkbox-inline">
                                      <input type="checkbox" th:checked="${stu.stu_interest!=null&&stu.stu_interest.contains('游戏')}" name="stu_interest" id="inputInterest4" value="游戏"> 游戏
                                    </label>
                                    <label class="checkbox-inline">
                                      <input type="checkbox" th:checked="${stu.stu_interest!=null&&stu.stu_interest.contains('做饭')}" name="stu_interest" id="inputInterest5" value="做饭"> 做饭
                                    </label>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="inputEducation" class="col-sm-2 control-label">学历</label>
                                <div class="col-sm-10">
                                  <select class="form-control" name="stu_education" id="inputEducation">
                                    <option value="大专" th:field="${stu.stu_education}">大专</option>
                                    <option value="本科" th:field="${stu.stu_education}">本科</option>
                                    <option value="研究生" th:field="${stu.stu_education}">研究生</option>
                                    <option value="博士生" th:field="${stu.stu_education}">博士生</option>
                                    <option value="博士后" th:field="${stu.stu_education}">博士后</option>
                                  </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="inputTel" class="col-sm-2 control-label">电话</label>
                                <div class="col-sm-10">
                                  <input type="tel" th:value="${stu.stu_phone}" name="stu_phone" class="form-control" id="inputTel" placeholder="电话">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="inputEmail" class="col-sm-2 control-label">E-mail</label>
                                <div class="col-sm-10">
                                  <input type="email" th:value="${stu.stu_email}" name="stu_email" class="form-control" id="inputEmail" placeholder="E-mail">
                                </div>
                            </div>

                            <div class="form-group">
                              <label for="inputAddress" class="col-sm-2 control-label">家庭住址</label>
                              <div class="col-sm-10">
                                <input type="text" th:value="${stu.stu_address}" name="stu_address" class="form-control" id="inputAddress" placeholder="家庭住址">
                              </div>
                            </div>

                            <div class="form-group">
                              <label for="inputColor" class="col-sm-2 control-label">幸运色</label>
                              <div class="col-sm-10">
                                <input type="color" th:value="${stu.my_color}" name="my_color" class="form-control" id="inputColor">
                              </div>
                            </div>

                            <div class="form-group">
                              <label for="inputNumber" class="col-sm-2 control-label">幸运数字</label>
                              <div class="col-sm-10">
                                <input type="number" th:value="${stu.lucky_number}" name="lucky_number" class="form-control" id="inputNumber"  placeholder="幸运数字">
                              </div>
                            </div>

                            <div class="form-group">
                              <label for="inputIntroduction" class="col-sm-2 control-label">自我简介</label>
                              <div class="col-sm-10">
                                <textarea class="form-control" th:text="${stu.re_mark}" name="re_mark" id="inputIntroduction" rows="5"></textarea>
                              </div>
                            </div>

                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <button type="submit" class="btn btn-info">修改信息</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1"></div>

                        <div class="col-md-4">
                            <img id="imgshow" class="img-thumbnail img-responsive" th:src="'/pics/upload/'+${stu.stu_image_url}" />
                            <div class="form-group" name="mypic">
                                <label for="upfile" class="col-sm-4 control-label">修改图片</label>
                                <div class="col-sm-8">
                                    <input class="btn btn-default form-control" type="file" name="filepic" id="upfile" accept=".jpg,.png,.gif,.jpeg,.bmf,.emf">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        </div>
    </div>

</body>
</html>

<script language="JavaScript">
    $('#upfile').change(function(){
        let file = $('#upfile').get(0).files[0];
        let reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload=function (e){
            console.log(e);
            $('#imgshow').get(0).src = e.target.result;
        }
    })
</script>